!function(e){var t={};function i(s){if(t[s])return t[s].exports;var n=t[s]={i:s,l:!1,exports:{}};return e[s].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=t,i.d=function(e,t,s){i.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:s})},i.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=1)}([function(e,t){!function(){let e={},t=!!window.location.search.match(/\?debug=true/),i=function(e,t){e.tagName.match(/-/)&&(Object.setPrototypeOf(e,t.prototype),e._init&&e._init(),setTimeout(function(){e.connectedCallback&&e.connectedCallback()}))},s={define:function(s,n){e[s]=n,t&&console.log("CustomElements.define......................."),Array.from(document.querySelectorAll(s)).forEach(function(t){i(t,e[s])})}},n=function(s){let n=s.nodeName.toLowerCase();s.nodeType===Node.ELEMENT_NODE&&e[n]&&s.constructor.name.match(/^HTML\w*Element$/)&&(t&&console.log("observer....................... 2",s),i(s,e[n]))},r=new MutationObserver(function(e){e.forEach(function(e){"childList"==e.type&&(Array.from(e.addedNodes).forEach(function(e){n(e),e.nodeType===Node.ELEMENT_NODE&&(t&&console.log("observer....................... 1",e),Array.from(e.querySelectorAll("*")).forEach(function(e){n(e)}))}),Array.from(e.removedNodes).forEach(function(e){e.disconnectedCallback&&e.disconnectedCallback(),e.nodeType===Node.ELEMENT_NODE&&Array.from(e.querySelectorAll("*")).forEach(function(e){e.disconnectedCallback&&e.disconnectedCallback()})}))})});window.customElements||(window.customElements=s,window.addEventListener("load",function(){r.observe(document.body,{childList:!0,subtree:!0}),function(s){t&&console.log("checkAndApplyAllCustomElements..........",s);for(let n in e)t&&console.log("checkAndApplyAllCustomElements..........",s.querySelectorAll(n)),Array.from(s.querySelectorAll(n)).forEach(function(t){t.constructor.name.match(/^HTML\w*Element$/)&&i(t,e[n])})}(document.body)})),Object.values||(Object.values=function(e){return Object.keys(e).map(function(t){return e[t]})}),Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(e){var t=this;if(!document.documentElement.contains(t))return null;do{if(t.matches(e))return t;t=t.parentElement}while(null!==t);return null})}()},function(e,t,i){"use strict";i.r(t);i(0);function s(e,t){var i=new MutationObserver(e=>{e.forEach(e=>{if("attributes"===e.type){let i=e.target.getAttribute(e.attributeName);t(e.attributeName,i)}})});return i.observe(e,{attributes:!0}),i}function n(e,t=/^on-/){let i={},s={};return Array.from(e).forEach(function(e){if(e.name.match(t)){let t=o(e.name.replace(/^on-/,""));s[t]=function(t){return new Function("event",e.value)(t)}}else{let t=o(e.name);i[t]=l(e.value)}}),{options:i,events:s}}function r(e,t){e.getAttribute("tabindex")&&e.addEventListener("keypress",function(e){" "!==e.key&&"Enter"!==e.key||(t&&t(),e.preventDefault())})}function o(e){return e.replace(/-([mce-z])/gi,function(e){return e[1].toUpperCase()})}function l(e,t=window){if(!e)return e;let i=e;i.match(/^[\+\-]?[0-9\.]+,[ ]*\ ?[\+\-]?[0-9\.]+$/)&&(i="["+e+"]"),i=function(e){try{return JSON.parse(i),e}catch(t){return e.replace(/([\$\w]+)\s*:/g,function(e,t){return'"'+t+'":'}).replace(/'([^']+)'/g,function(e,t){return'"'+t+'"'})}}(i);try{return JSON.parse(i)}catch(e){try{return i=function(e,t){let i,s=t;return(i=e.split(/[\[\]\.]/).filter(e=>e).map(e=>e.replace(/^['"]+|['"]+$/g,""))).length>1&&i[0]!==e?(i.forEach(e=>s=s[e]),s):e}(i,t)}catch(e){return i}}}function c(e,t,i){objApplyFunc=objApplyFunc||function(){let s=o("set-"+t),n=l(i);e[s]&&e[s](n)}}function a(){window.innerWidth>=1024?document.body.classList.add("mce-desktop"):document.body.classList.remove("mce-desktop")}customElements.define("mce-app-bar",class extends HTMLElement{connectedCallback(){window.ce&&window.ce.resizeHandler||(window.ce={resizeHandler:a},window.addEventListener("resize",window.ce.resizeHandler),window.addEventListener("load",window.ce.resizeHandler)),this._addFiller()}setTitle(e){this.querySelector(".mce-title").innerHTML=e}_addFiller(){let e=document.createElement("div");e.classList.add("mce-app-bar-filler"),this.parentElement.insertBefore(e,this.nextSibling)}});customElements.define("mce-bottom-nav-bar",class extends HTMLElement{connectedCallback(){window.ce&&window.ce.resizeHandler||(window.ce={resizeHandler:a},window.addEventListener("resize",window.ce.resizeHandler),window.addEventListener("load",window.ce.resizeHandler))}});customElements.define("mce-button",class extends HTMLElement{connectedCallback(){this.buttonAttrs=["name","value","disabled"],setTimeout(this._addRealButton.bind(this))}set disabled(e){e?this.setAttribute("disabled",""):this.removeAttribute("disabled")}_addRealButton(){let e=document.createElement("button");e.setAttribute("tabindex","-1"),Array.from(this.attributes).forEach(t=>{this.buttonAttrs.includes(t.name)&&e.setAttribute(t.name,t.value)}),s(this,(t,i)=>{this.buttonAttrs.includes(t)&&e.setAttribute(t,i)}),this.classList.contains("mce-disabled")||r(this,t=>e.click()),this.appendChild(e)}});customElements.define("mce-card",class extends HTMLElement{connectedCallback(){}});var h='\n  <svg height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">\n    <path class="checked"   d="M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>\n    <path class="unchecked" d="M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"/>\n    <path d="M0 0h24v24H0z" fill="none"/>\n  </svg>';customElements.define("mce-checkbox",class extends HTMLElement{connectedCallback(){this.inputAttrs=["id","name","value","disabled","checked"],this.inputEl=this._addRealInput(),s(this,(e,t)=>{null===t?this.inputEl.removeAttribute(e):this.inputEl.setAttribute(e,t)}),null!==this.getAttribute("disabled")&&r(this,e=>this.inputEl.click())}_addRealInput(){let e=document.createElement("input");return e.setAttribute("type","checkbox"),e.setAttribute("tabindex","-1"),Array.from(this.attributes).forEach(t=>{this.inputAttrs.includes(t.name)&&null!==t.value&&(e.setAttribute(t.name,t.value),"id"===t.name&&this.setAttribute("id","mce-checkbox-"+t.value))}),this.appendChild(e),this.insertAdjacentHTML("beforeend",h),e}});customElements.define("mce-chip",class extends HTMLElement{connectedCallback(){this._buildHTML()}_buildHTML(){let e=this.getAttribute("avatar"),t=this.getAttribute("text"),i=this.getAttribute("removable"),s=this.getAttribute("on-remove");if(e&&(e.match(/\.(png|jpg|gif|svg)$/)?this.insertAdjacentHTML("beforeend",`<div class="mce-avatar" style="background-image:url(${e})"></div>`):this.insertAdjacentHTML("beforeend",`<div class="mce-avatar">${e}</div>`)),t&&this.insertAdjacentHTML("beforeend",`<div class="mce-text">${t}</div>`),null!==i){let e=document.createElement("mce-icon");e.setAttribute("tabindex","0"),e.classList.add("mce-delete"),e.innerHTML="clear",e.addEventListener("click",e=>{let t=new CustomEvent("remove",e);this.dispatchEvent(t)}),this.appendChild(e),this.addEventListener("remove",function(e){new Function(s)(),this.remove()})}}});customElements.define("mce-dialog",class extends HTMLElement{connectedCallback(){this.displayLevel=this.getAttribute("display-level")||"root",this._regroupedOnce=this._regroupedOnce||!1,setTimeout(e=>{!this._regroupedOnce&&this._regroupElements(),this._regroupedOnce=!0,"root"!==this.displayLevel||this.parentElement.isSameNode(document.body)||(document.body.appendChild(this),this.querySelector(".mce-page-blocker").style.position="fixed",this.querySelector(".mce-container").style.position="fixed")})}open(e){e&&this._updateContent(e),"root"===this.displayLevel&&(document.body.style.overflow="hidden"),this.classList.add("mce-visible")}close(){"root"===this.displayLevel&&(document.body.style.overflow=""),this.classList.remove("mce-visible")}_regroupElements(){let e,t;(e=document.createElement("div")).classList.add("mce-page-blocker"),e.addEventListener("click",()=>{this.close()}),this.appendChild(e),(t=document.createElement("div")).classList.add("mce-container"),this.appendChild(t),Array.from(this.children).forEach(i=>{i.isSameNode(t)||i.isSameNode(e)||t.appendChild(i)})}_updateContent(e){let t,i,s,n=e=>{let t=document.createElement("div");return t.classList.add(e),this.appendChild(t),t};if(void 0!==e.title&&((t=this.querySelector(".mce-title")||n("mce-title")).innerHTML=e.title),void 0!==e.contents&&((i=this.querySelector(".mce-content")||n("mce-content")).innerHTML=e.contents),void 0!==e.actions){(s=this.querySelector(".mce-actions")||n("mce-actions")).innerHTML="";for(var r in e.actions){let t=document.createElement("mce-button");t.innerHTML=r,t.addEventListener("click",t=>{e.actions[r](),this.close()}),s.appendChild(t)}}}});customElements.define("mce-expansion-panel",class extends HTMLElement{connectedCallback(){setTimeout(e=>{let t=this.querySelector(".mce-title");t&&t.addEventListener("click",this._showThisPanelOnly.bind(this))})}_showThisPanelOnly(e){Array.from(document.querySelectorAll("mce-expansion-panel")).forEach(e=>{e.isSameNode(this)?e.classList.toggle("mce-expanded"):e.classList.remove("mce-expanded")})}});customElements.define("mce-grid-list",class extends HTMLElement{connectedCallback(){}});customElements.define("mce-icon",class extends HTMLElement{connectedCallback(){setTimeout(e=>{this._setImageIcon(),this.clickListener=this._onClick.bind(this),this._addEventListener()})}disconnectedCallback(){this.removeEventListener("mouseup",this.clickListener),this.removeEventListener("touchend",this.clickListener)}_onClick(e){let t=this.getAttribute("href");t&&(window.location.href=t)}_addEventListener(){this.addEventListener("mouseup",this.clickListener),this.addEventListener("touchend",this.clickListener)}_setImageIcon(){let e=this.innerHTML,t=e.match(/^fa-[a-z\-]+$/),i=e.match(/^[a-z_]+$/),s=this.getAttribute("img");i?this.innerHTML=`<i class="material-icons">${e}</i>`:t?this.innerHTML=`<i class="fa ${e}"></i>`:s&&(this.innerHTML="<i>photo</i>",this.style.backgroundImage=`url(${s})`)}});customElements.define("mce-list",class extends HTMLElement{connectedCallback(){this._focused={},this._focusTimer,this.events={},this.initialize()}initialize(){let e=n(this.attributes);this.events=e.events;for(let e in this.events)this.addEventListener(e,this.events[e])}setFocused(e,t){t?(clearTimeout(this._focusTimer),this._focused={input:!1,listItem:!1},this._focused[e]=!0):this._focusTimer=setTimeout(t=>{this._focused[e]=!1},100)}});customElements.define("mce-menu",class extends HTMLElement{connectedCallback(){s(this,(e,t)=>{"class"==e&&this.classList.contains("visible")&&this.open()}),this.hideMenu=this.close.bind(this),this._addEventListener()}disconnectedCallback(){document.removeEventListener("click",this.hideMenu)}open(){this.classList.contains("mce-visible")||this.classList.add("mce-visible"),Array.from(document.querySelectorAll("mce-menu")).forEach(e=>{!1===this.isSameNode(e)&&e.classList.remove("mce-visible")}),this.justShown=!0,setTimeout(e=>this.justShown=!1,100)}close(e){this.justShown||this.contains(e.target)||this.classList.remove("mce-visible")}_addEventListener(){document.addEventListener("click",this.hideMenu),this.addEventListener("close",e=>{this.classList.remove("mce-visible")})}});customElements.define("mce-nav-drawer",class extends HTMLElement{connectedCallback(){s(this,(e,t)=>{"class"===e&&(document.body.style.overflow=this.classList.contains("mce-visible")?"hidden":"")}),window.ce&&window.ce.resizeHandler||(window.ce={resizeHandler:a},window.addEventListener("resize",window.ce.resizeHandler),window.addEventListener("load",window.ce.resizeHandler)),setTimeout(e=>{this.regroupedOnce=!1,this._regroupElements()})}open(){this.classList.add("mce-visible")}close(){this.classList.remove("mce-visible")}_regroupElements(){if(!this.regroupedOnce){let e,t;(e=document.createElement("div")).classList.add("mce-page-blocker"),e.addEventListener("click",()=>this.close()),this.appendChild(e),(t=document.createElement("div")).classList.add("mce-contents"),this.appendChild(t),Array.from(this.children).forEach(i=>{i.isSameNode(t)||i.isSameNode(e)||t.appendChild(i)}),this.addEventListener("close",e=>this.close())}this.regroupedOnce=!0}});customElements.define("mce-nav-item",class extends HTMLElement{connectedCallback(){this.regroupedOnce=!1,setTimeout(this._regroupElements.bind(this))}setActiveItem(e){Array.from(this.parentElement.querySelectorAll("mce-nav-item")).forEach(function(e){e.classList.remove("mce-active")}),this.classList.add("mce-active");let t=this.getAttribute("href");if(t){window.location.href=t;let i=new CustomEvent("close",e);this.dispatchEvent(i),e.preventDefault()}}_regroupElements(){if(!this.regroupedOnce){if(this.querySelector("span.text")||(this.innerHTML=`<span class="mce-text">${this.innerHTML}</span>`),this.addEventListener("click",this.setActiveItem.bind(this)),this.icon=this.getAttribute("icon"),this.shortcut=this.getAttribute("shortcut"),this.icon&&!this.querySelector("mce-icon")){let e=this.icon.match(/^fa-[a-z\-]+$/),t=this.icon.match(/^[a-z_]+$/);this.iconEl=document.createElement("mce-icon"),t?this.iconEl.innerHTML=this.icon:e?this.iconEl.insertAdjacentHTML("beforeend",`<i class="fa ${this.icon}"></i>`):this.iconEl.insertAdjacentHTML("beforeend",`<img src="${this.icon}" />`),this.insertBefore(this.iconEl,this.firstChild)}this.shortcut&&!this.querySelector("mce-icon")&&(this.shortcutEl=document.createElement("div"),this.shortcutEl.classList.add("mce-shortcut"),this.shortcutEl.innerHTML=this.shortcut,this.appendChild(this.shortcutEl))}this.regroupedOnce=!0}});var d='\n  <svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24">\n    <path class="mce-checked" d="M12 7c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5zm0-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"/>\n    <path class="mce-unchecked" d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"/>\n    <path d="M0 0h24v24H0z" fill="none"/>\n  </svg>';customElements.define("mce-radio-button",class extends HTMLElement{connectedCallback(){this.inputAttrs=["id","name","value","disabled","checked"],this.inputEl=this._addRealInput(),s(this,(e,t)=>{null===t?this.inputEl.removeAttribute(e):this.inputEl.setAttribute(e,t)}),!this.classList.contains("mce-disabled")&&r(this,e=>this.inputEl.click())}_addRealInput(){let e=document.createElement("input");return e.setAttribute("type","radio"),Array.from(this.attributes).forEach(t=>{this.inputAttrs.includes(t.name)&&null!==t.value&&(e.setAttribute(t.name,t.value),"id"===t.name&&this.setAttribute("id","mce-radio-button-"+t.value))}),this.appendChild(e),this.insertAdjacentHTML("beforeend",d),e}});const u='\n<svg xmlns=\'http://www.w3.org/2000/svg\' viewBox="0 0 32 32" width="32" height="32">\n  <circle cx="16" cy="16" r="11"></circle>\n  <polygon points="21.75,16 32.25,16 27,21.25"></polygon>\n</svg>';customElements.define("mce-refresh-indicator",class extends HTMLElement{connectedCallback(){this.insertAdjacentHTML("beforeend",u)}});const m='\n  <label for="__ID__" tabindex="0">\n    <mce-icon>search</i>\n  </label>\n  <span class="mce-input-wrapper">\n    <input id="__ID__" autocomplete="off" placeholder="Search">\n    <mce-icon class="mce-clear">clear</i>\n  </span>\n';customElements.define("mce-search",class extends HTMLElement{connectedCallback(){this.regroupedOnce=!1,this.inputEl,this.inputWrapper,this._regroupElements(),setTimeout(e=>{this.inputWrapper=this.querySelector(".mce-input-wrapper"),this.inputEl=this.querySelector("input"),this._addEventListeners()})}close(){this.inputEl.value="",this.inputWrapper.classList.remove("mce-visible")}_regroupElements(){if(!this.regroupedOnce){let e="mce-search-"+Math.round(Math.random()*Math.pow(10,9));this.innerHTML=m.replace("__ID__",e)}this.regroupedOnce=!0}_addEventListeners(){let e=this.querySelector("label"),t=this.querySelector(".mce-clear");e.addEventListener("mouseup",this._showInputField.bind(this)),e.addEventListener("touchend",this._showInputField.bind(this)),e.addEventListener("keydown",e=>{(" "===event.key||"Enter"===event.key)&&this.inputWrapper.classList.toggle("visible")}),this.inputEl.addEventListener("blur",e=>this.close()),this.inputEl.addEventListener("keydown",e=>{"Enter"===e.key&&this._executeOnSearch()}),t.addEventListener("mouseup",this._clearInputField.bind(this)),t.addEventListener("touchend",this._clearInputField.bind(this)),this.addEventListener("search",e=>this._executeOnSearch())}_showInputField(e){if(this.inputWrapper.classList.contains("mce-visible")&&this.inputEl.value){let t=new CustomEvent("search",e);this.dispatchEvent(t)}else this.inputWrapper.classList.toggle("mce-visible"),setTimeout(e=>this.inputEl.focus())}_clearInputField(e){this.inputEl.focus(),this.inputEl.value="",e.preventDefault()}_executeOnSearch(){if(this.inputEl.value){let e=this.getAttribute("on-search");new Function("keyword",e)(this.inputEl.value)}}});customElements.define("mce-snackbar",class extends HTMLElement{connectedCallback(){this.bottom=this.getAttribute("bottom")||"56",this.open()}set message(e){this.querySelector(".text")?this.querySelector(".text").innerHTML=e:this.innerHTML=e}open(e){e&&(this.message=e),this.style.bottom=this.bottom+"px",this.classList.add("mce-visible"),setTimeout(e=>{this.classList.remove("mce-visible")},3e3)}close(){this.classList.remove("mce-visible")}});customElements.define("mce-switch",class extends HTMLElement{connectedCallback(){this.inputAttrs=["id","name","value","disabled","checked"],this.inputEl=this._addRealInput(),s(this,(e,t)=>{null===t?this.inputEl.removeAttribute(e):this.inputEl.setAttribute(e,t)}),r(this,e=>this.inputEl.click())}_addRealInput(){let e=document.createElement("input");return e.setAttribute("type","checkbox"),Array.from(this.attributes).forEach(t=>{this.inputAttrs.includes(t.name)&&null!==t.value&&(e.setAttribute(t.name,t.value),"id"===t.name&&this.setAttribute("id","mce-switch-"+t.value))}),e.addEventListener("click",t=>{e.checked?this.setAttribute("checked",""):this.removeAttribute("checked")}),this.appendChild(e),e}});customElements.define("mce-tabs",class extends HTMLElement{connectedCallback(){setTimeout(e=>{this.indicatorEl=this._addIndicatorEl(),this._addEventListener(),setTimeout(this._selectActiveTab.bind(this),100)})}getActiveTab(e){let t;return t=e?e.target.closest("mce-nav-item"):(t=this.querySelector("mce-nav-item.mce-active"))||this.querySelector("mce-nav-item:first-child")}_addIndicatorEl(){let e=document.createElement("div"),t=this.getBoundingClientRect(),i=this.getActiveTab().getBoundingClientRect();return e.classList.add("mce-indicator"),e.style.left=(i.left-t.left)/t.Width*100+"%",this.appendChild(e),e}_selectActiveTab(e){let t=this.indicatorEl,i=this.querySelectorAll("mce-nav-item").length,s=this.getActiveTab(e);Array.from(this.querySelectorAll("mce-nav-item")).forEach(e=>{e.setAttribute("tabindex",e.isSameNode(s)?0:-1)}),setTimeout(e=>{let n=this.getBoundingClientRect(),r=s.getBoundingClientRect(),o=parseFloat(t.style.left||0),l=(r.left-n.left)/n.width*100-o;t.style.width=parseFloat(100/i)+"%",function({duration:e,draw:t,timing:i}){let s=performance.now();requestAnimationFrame(function n(r){let o=(r-s)/e;o>1&&(o=1);let l=i(o);t(l),o<1&&requestAnimationFrame(n)})}({duration:450,timing:function(e){return 1-Math.sin(Math.acos(e))},draw:function(e){t.style.left=o+e*l+"%"}})})}_addEventListener(){Array.from(this.querySelectorAll("mce-nav-item")).forEach(e=>{e.addEventListener("click",this._selectActiveTab.bind(this)),e.addEventListener("keydown",t=>{let i,s="ArrowRight"===t.key||"ArrowUp"===t.key?1:"ArrowLeft"===t.key||"ArrowDown"===t.key?-1:0,n=0,r=this.getActiveTab(t),o=this.querySelectorAll("mce-nav-item");for(var l=0;l<o.length;l++)o[l].isSameNode(r)&&(n=l);(i=o[(n+s+o.length)%o.length])&&!i.isSameNode(r)&&i.click(),"Enter"===t.key&&e.click()})})}});customElements.define("mce-text-field",class extends HTMLElement{connectedCallback(){this.id="mce-text-field-"+Math.round(Math.random()*Math.pow(10,9)),this._buildHTML(),this.inputEl=this.querySelector("#"+this.id),this._addEventListeners()}get disabled(){return""!==this.getAttribute("disabled")}set disabled(e){e?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get errorMessages(){let e=this.__cachedErrorMessages||{rangeUnderflow:this.getAttribute("min-error")||"invalid min. value",rangeOverflow:this.getAttribute("max-error")||"invalid max. value",stepMismatch:this.getAttribute("step-error")||"invalid value(step)",tooShort:this.getAttribute("minlength-error")||"invalid min. length",tooLong:this.getAttribute("maxlength-error")||"invalid max. length",patternMismatch:this.getAttribute("pattern-error")||"invalid input text",valueMissing:this.getAttribute("required-error")||"this field is requierd",typeMismatch:this.getAttribute("type-error")||"invalid input for type, "+this.getAttribute("type"),customError:this.getAttribute("custom-error")||"invaid input(custom error)",invalidError:this.getAttribute("invalid-error")||"invaid input"};return this.__cachedErrorMessages=e,e}_buildHTML(){let e=this.getAttribute("icon")||"",t=this.getAttribute("type")||"text",i=(this.getAttribute("placeholder"),this.getAttribute("helper-text"),this.getAttribute("label")||""),s=this.getAttribute("prefix")||"",n=this.getAttribute("suffix")||"",r=this.getAttribute("optional")||"",o=this.getAttribute("helper-text")||"",l=null!==this.getAttribute("required")?" *":"",c=null!==this.getAttribute("multi-line"),a=[];for(let e=0;e<this.attributes.length;e++){let t=this.attributes[e];!t.name.match(/-/)&&a.push(`${t.name}="${t.value}"`)}let h=a.join(" "),d=c?`<textarea class="mce-input" id="${this.id}" ${h}>${this.getAttribute("value")||""}</textarea>`:`<div class="mce-prefix">${s}</div>\n\n       <input class="mce-input" type="${t}" id="${this.id}" ${h} />\n\n       <div class="mce-suffix">${n}</div>\n`,u=`\n      <mce-icon class="mce-icon">${e}</mce-icon>\n      <div class="mce-container">\n        <label for="${this.id}" style="">${i}${r}${l}</label>\n        <div class="mce-input-wrapper">\n          ${d}\n        </div>\n        <hr />\n        <div class="mce-helper-text">${o}</div>\n        <div class="mce-error-messages"></div>\n      </div>\n    `;this.insertAdjacentHTML("beforeend",u)}_getErrors(){let e={};for(var t in this.inputEl.validity)"valid"!==t&&this.inputEl.validity[t]&&(e[t]=this.errorMessages[t]);return this.getAttribute("maxlength")&&this.inputEl.value.length>parseInt(this.getAttribute("maxLength"))&&(e.tooLong=this.errorMessages.tooLong),e}_addEventListeners(){let e=()=>{let e=!this.inputEl.value,t=Object.values(this._getErrors())[0],i=this.querySelector(".mce-error-messages"),s=this.classList.contains("mce-dirty");e?this.classList.add("mce-empty"):this.classList.remove("mce-empty"),s&&t?(this.classList.add("mce-invalid"),i.innerHTML=t):this.classList.remove("mce-invalid")};if(e(),this.addEventListener("click",e=>{this.classList.add("mce-active"),this.inputEl.focus()}),this.inputEl.addEventListener("blur",e=>{this.classList.remove("mce-active")}),this.inputEl.addEventListener("change",t=>{this.classList.add("mce-dirty"),e()}),this.querySelector("textarea")){let e=this.inputEl;e.style.height="auto";function t(){window.setTimeout(function(){e.style.height=e.scrollHeight+"px",e.closest(".mce-container").style.height=e.scrollHeight+60+"px"},500)}e.addEventListener("change",t,!1),e.addEventListener("cut",t,!1),e.addEventListener("paste",t,!1),e.addEventListener("drop",t,!1),e.addEventListener("keydown",t,!1),e.focus(),e.select(),t()}}_autoResizeTextarea(){}});customElements.define("mce-tooltip",class extends HTMLElement{connectedCallback(){this._addEventListeners()}_addEventListeners(){this.parentElement.addEventListener("mouseenter",e=>{this.originalPos={parent:e.target,nextSibling:this.nextSiblingNode},this._showTooltip()}),this.parentElement.addEventListener("mouseleave",e=>{this.classList.remove("mce-visible"),this.originalPos.parent.insertBefore(this,this.originalPos.nextSibling)})}_showTooltip(){let e=this.originalPos.parent.getBoundingClientRect(),t=document.body,i=document.documentElement,s=window.pageYOffset||i.scrollTop||t.scrollTop,n=window.pageXOffset||i.scrollLeft||t.scrollLeft,r=i.clientTop||t.clientTop||0,o=i.clientLeft||t.clientLeft||0,l=Math.round(e.top+s-r),c=Math.round(e.left+n-o),a=l+e.height+24;this.style.top=a+"px",this.style.left="",this.style.right="",document.body.appendChild(this),setTimeout(t=>{let i=this.getBoundingClientRect(),s=c+e.width/2-i.width/2;s<8?this.style.left="8px":s+i.width>document.body.clientWidth?this.style.right="8px":this.style.left=s+"px",this.classList.add("mce-visible")},100)}});function p(e){return new Promise(function(t,i){if("string"==typeof e)(n=e,fetch("https://nominatim.openstreetmap.org/?format=json&addressdetails=1&q="+n+"&format=json&limit=1").then(function(e){return e.json()})).then(function(s){s[0]?t([s[0].lat,s[0].lon]):i(`Invalid address, "${e}"`)});else{if(s=e,!(Array.isArray(s)&&2===s.length&&isFinite(s[0])&&isFinite(s[1])||s.lat&&s.lng))throw console.error("Invalid latlng",e),"Invalid latlng";t(e)}var s,n})}customElements.define("mce-leaflet",class extends HTMLElement{connectedCallback(){this.map,this.options={center:[51.505,-.09],zoom:13},this.events={},null===this.getAttribute("lazy-init")&&this.initialize()}initialize(){if(this.map)return!1;this.loadLibrary().then(e=>{let t=n(this.attributes);this.options=Object.assign(this.options,t.options),this.events=t.events}).then(e=>p(this.options.center)).then(e=>{this.options.center=e;let t=Object.assign({},this.options);delete t.zoom,delete t.center,this.map=new L.map(this,t),this.setEvents(),this.map.setView(e,this.options.zoom)}).then(e=>{s(this,this.onAttrChange.bind(this)),setTimeout(e=>{Array.from(this.querySelectorAll("*")).filter(e=>e.tagName.match(/-/)).forEach(e=>e.initialize(this.map)),this.querySelector("mce-tile-layer")||L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png").addTo(this.map)})})}setEvents(){for(let e in this.events)window.debug&&console.log("this.events[eventName]",e,this.events[e]),this.map.on(e,this.events[e])}onAttrChange(e,t){"center"===e?"string"==typeof t?p(t).then(e=>{this.map.setView(e,this.map.getZoom())}):this.map.setView(t,this.map.getZoom()):["class","tabindex","style"].includes(e)||c(this.map,e,t)}loadLibrary(){if(!document.querySelector("link.mce-map.leaflet")){let e=document.createElement("link");e.setAttribute("class","mce-map leaflet"),e.setAttribute("rel","stylesheet"),e.setAttribute("href","https://unpkg.com/leaflet@1.2.0/dist/leaflet.css"),document.querySelector("head").appendChild(e)}if(!document.querySelector("script.mce-map.leaflet")){let e=document.createElement("script");e.setAttribute("class","mce-map leaflet"),e.setAttribute("src","https://unpkg.com/leaflet@1.2.0/dist/leaflet.js"),document.querySelector("head").appendChild(e)}return function(e){if("function"!=typeof e)throw console.error("Invalid condition for waitUntil. It must be a function",e),"invalid condition";return new Promise(function(t,i){!function s(n=0,r=5e3){let o=e();return o?t(o):n>r?i("timeout"):void setTimeout(function(){s(n+100,r)},100)}()})}(e=>window.L)}});customElements.define("mce-marker",class extends HTMLElement{connectedCallback(){this._map,this.mapObj,this.options={latlng:[51.505,-.09]},this.events={},this.initialize(this.map)}disconnectedCallback(){this.map.removeLayer(this.mapObj)}get map(){return this._map=this._map||this.closest("mce-leaflet").map,this._map}initialize(e){if(!e)return;let t=n(this.attributes);this.options=Object.assign(this.options,t.options),this.events=t.events,p(this.options.latlng).then(t=>{this.mapObj=new L.marker(t,this.options),this.mapObj.customElement=this;for(let e in this.events)this.mapObj.on(e,this.events[e]);this.mapObj.addTo(e),s(this,this.onAttrChange.bind(this))})}onAttrChange(e,t){"latlng"===e?p(t).then(e=>this.mapObj.setLatLng(e)):["class","tabindex","style"].includes(e)||c(this.map,e,t)}});customElements.define("mce-route",class extends HTMLElement{connectedCallback(){if(this.router=this.closest("mce-router"),this.path=this.getAttribute("path"),this.name=this.getAttribute("name")||this.path&&this.path.replace("/"," "),this.redirect=this.getAttribute("redirect"),this.noCache=null!==this.getAttribute("no-cache"),this.cachedTemplate=null,this.resolveFunc=this.getAttribute("resolve-func")&&this._getPromiseFunc("route",this.getAttribute("resolve-func")),!this.path&&!this.import&&!this.redirect)throw"Invalid attributes for mce-route, required path and import"}get import(){let e,t,i=this.getAttribute("import");return e=i&&i.match(/\(.*\)/)?(t=new Function("return "+i))():i}activate(){let e=e=>Promise.resolve(),t=this.router.resolveFunc||e,i=this.resolveFunc||e,s=this.router.onRouteStart||e,n=this.router.onRouteEnd||e;this.state=window.history.stae,this.router.showLoadingEl(!0);function r(e,t){let i=e;if(t.length>1)for(var s=1;s<t.length;s++)i=i.replace(/:[a-zA-Z_]+/,t[s]);return i}t(this).then(e=>(e&&(this.router.data=e),i(this))).then(e=>(e&&(this.data=e),s(this))).then(e=>{if(this.cachedTemplate)return this.cachedTemplate;if(this.import){let e,t=r(this.import,this.matches);if(this.router.onHttpStart){let i=this.router.onHttpStart(this);t=i.url||t,e=i.options||{}}return fetch(t,e).then(e=>{if(!e.ok)throw Error(`url: ${t}, status: ${e.statusText}`);return this.router.onHttpEnd?this.router.onHttpEnd(e):e.text()})}return null}).then(e=>(e&&(!this.noCache&&(this.cachedTemplate=e),this.router.targetEl.classList.remove("mce-slide-in"),setTimeout(t=>{o=this.router.targetEl,l=e,o.innerHTML=l,Array.from(o.querySelectorAll("script")).forEach(function(e){let t=document.createElement("script");Array.from(e.attributes).forEach(function(e){t.setAttribute(e.name,e.value)}),t.appendChild(document.createTextNode(e.innerHTML)),e.parentNode.replaceChild(t,e)}),this.router.targetEl.classList.add("mce-slide-in")},50)),this.router.showLoadingEl(!1),this.router.currentRoute=this,n(this))).catch(e=>{throw this.router.debug&&console.error("routing-error",e),this.router.showLoadingEl(!1),e});var o,l}_getPromiseFunc(e,t){return function(i){let s=new Function(e,`return ${t}`);return Promise.resolve(s(i))}}});var v='\n    <style>\n      @keyframes mce-rotate{\n        from{transform:rotate(0)}\n        to{transform:rotate(359deg)}\n      }\n      mce-router {\n        display: block; \n        /*overflow: hidden;*/\n      }\n      mce-router > .mce-loading {\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        position:absolute; top: 0; left: 0; \n        width:100%; height: 100%; \n        min-height: 64px;\n        background-color: rgba(255,255,255,0.5); \n      }\n      mce-router > .mce-loading > svg {\n        animation: mce-rotate 1.4s infinite linear;\n        vertical-align: middle;\n      }\n      mce-router > .mce-loading > svg circle {\n        stroke-dasharray: 44.2336, 200;\n        stroke-dashoffset: -15;\n        stroke: var(--theme-color-500, #9e9e9e);\n        stroke-linecap: round;\n        opacity: 1;\n        stroke-width: 3;\n        fill: none;\n      }\n      mce-router > .mce-loading > svg polygon {\n        fill: var(--theme-color-500, #9e9e9e);\n        transform: rotate(314deg);\n        transform-origin: 16px 16px 0px;\n        opacity: 1;\n      }\n      mce-router > .mce-router-target {\n        opacity: 0;\n        margin-left: 100%;\n      }\n      mce-router > .mce-router-target.mce-slide-in {\n        opacity: 1;\n        margin-left: 0%;\n        transition: all 0.25s;\n      }\n    </style>\n    <div class="mce-loading">\n      <svg xmlns="http://www.w3.org/2000/svg: viewBox="0 0 32 32" width="32" height="32">\n        <circle cx="16" cy="16" r="11"></circle>\n        <polygon points="21.75,16 32.25,16 27,21.25"></polygon>\n      </svg>\n    </div>';customElements.define("mce-router",class extends HTMLElement{connectedCallback(){this.basePath=this.getAttribute("base-path")||"",this.debug="true"===this.getAttribute("debug"),this.currentRoute,this.resolveFunc,this.onHttpStart,this.onHttpEnd,this.routes,this.defaultRoute,this.popStateHandler=this._popStateHandler.bind(this),this.style.position="relative",window.addEventListener("popstate",this.popStateHandler),setTimeout(e=>{this._setProperties(),this.popStateHandler()})}disconnectedCallback(){window.removeEventListener("popstate",this.popStateHandler)}showLoadingEl(e){this.loadingEl.style.display=e?"flex":"none"}get notFoundRoute(){return this._notFoundRoute=this._notFoundRoute||this._getUrlMatchingRoute(this.basePath+"/not-found")||this._getUrlMatchingRoute(this.basePath+"not-found"),this._notFoundRoute}_getUrlMatchingRoute(e){let t;e=(e=e||this._getRouterPath()).replace(/[\/]{2,}/g,"/");for(var i=0;i<this.routes.length;i++){let s=this.routes[i],n=(this.basePath+s.path).replace(/[\/]{2,}/g,"/"),r=new RegExp("^"+n+"$","i");this.debug&&console.log("path",e,"re",r);let o=e.match(r);if(o){(t=s).matches=o;break}}return t}_popStateHandler(e){let t=this._getUrlMatchingRoute();this.routerPath=this._getRouterPath(),t&&t.redirect?(t=this._getUrlMatchingRoute(t.redirect),this._redirectTo(t.path)):t?t.activate():(this.debug&&console.log(`route not found for '${this._getRouterPath()}', redirecting to 'not-found'`),this.defaultRoute?this.defaultRoute.activate():this.notFoundRoute?this._redirectTo(this.notFoundRoute.path):this.debug&&console.error("route not found for '/not-found' or 'not-found'"))}_redirectTo(e){let t=this.basePath+e,i=this._getUrlMatchingRoute(t);i?i.activate():console.error("route not found for",t)}_setProperties(){let e=this.getAttribute("resolve-func"),t=this.getAttribute("on-http-start"),i=this.getAttribute("on-http-end"),s=this.getAttribute("on-route-start"),n=this.getAttribute("on-route-end");this.resolveFunc=e&&this._getPromiseFunc("route",e),this.onHttpStart=t&&this._getPromiseFunc("route",t),this.onHttpEnd=i&&this._getPromiseFunc("response",i),this.onRouteStart=s&&this._getPromiseFunc("route",s),this.onRouteEnd=n&&this._getPromiseFunc("route",n),this.routes=Array.from(this.querySelectorAll("mce-route")),this.routes.forEach(e=>{null!==e.getAttribute("default")&&(this.defaultRoute=e)}),this.targetEl=this._addTargetEl(),this.loadingEl=this._addLoadingEl()}_getRouterPath(e){e=e||window.location.href;let t,i=new URL(e.replace(/[\/]{2,}/g,"/"));return t=i.hash?""!==this.basePath||i.hash.match(/\//)?(i=new URL(i.hash.replace("#",""),window.location.origin)).pathname:i.hash.replace("#",""):""}_addLoadingEl(){let e=this.querySelector(".mce-loading");return e||(this.insertAdjacentHTML("beforeend",v),e=this.querySelector("div.mce-loading")),e}_addTargetEl(){return this.insertAdjacentHTML("beforeend",'<div class="mce-router-target"></div>'),this.querySelector("div.mce-router-target")}_getPromiseFunc(e,t){return t="response"===e?`let res = ${t};\n return res || response.text();`:`return ${t}`,function(i){let s=new Function(e,t);return Promise.resolve(s(i))}}});customElements.define("mce-blocker",class extends HTMLElement{connectedCallback(){this.classList.contains("mce-visible")&&this.open()}open(){let e=window.getComputedStyle(this.parentElement),t=e.getPropertyValue("position"),i=["static"].includes(t),s={position:"absolute",backgroundColor:"rgba(0,0,0,0.2)",top:i?this.parentElement.offsetTop+"px":"0px",left:i?this.parentElement.offsetLeft+"px":"0px",width:this.parentElement.offsetWidth+"px",height:this.parentElement.offsetHeight+"px",borderRadius:e.borderRadius};Object.assign(this.style,s),this.classList.add("mce-visible")}close(){this.classList.remove("mce-visible")}});customElements.define("mce-inview",class extends HTMLElement{connectedCallback(){this.options={threshold:[.1,.2,.3,.4,.5,.6,.7,.8]},this.events={},this.once80PctVisible=!1,this.templateActivated=!1,this.initialize()}initialize(){let e=n(this.attributes);this.options=Object.assign({},this.options,e.options),this.events=e.events,this.observer=new IntersectionObserver(this.__handleIntersect.bind(this),this.options),this.observer.observe(this),this.events.inview=this.events.inview||this.__defaultInviewHandler;for(let e in this.events)this.addEventListener(e,this.events[e])}__handleIntersect(e,t){e.forEach(e=>{let t={entry:e};e.isIntersecting?(this.__activateTemplate(),this.dispatchEvent(new CustomEvent("inview",{detail:t}))):this.dispatchEvent(new CustomEvent("outview",{detail:t}))})}__activateTemplate(){if(this.templateActivated)return;const e=this.querySelector("template"),t=document.importNode(e.content,!0);this.appendChild(t),this.templateActivated=!0}__defaultInviewHandler(e){if(this.once80PctVisible)return!1;const t=e.detail.entry;if(t.intersectionRatio<.8){const e=1.25*t.intersectionRatio;Math.floor(10*t.intersectionRatio),Object.assign(t.target.style,{opacity:e})}else t.target.style.opacity=1,t.target.style.filter="unset",this.once80PctVisible=!0}});customElements.define("mce-list-item",class extends HTMLElement{connectedCallback(){this.item=null,this.parentListEl=null,this.initialize()}initialize(){this.setAttribute("tabindex","0"),this.item=this.textContent,this.getAttribute("item")&&setTimeout(e=>{this.item=l(this.getAttribute("item"))}),this.parentListEl=this.closest("mce-list, .mce-list"),this.addEventListener("keydown",this.__keydownHandler.bind(this)),this.addEventListener("keyup",this.__keyupHandler.bind(this)),this.addEventListener("click",this.__clickHandler.bind(this)),this.addEventListener("focus",this.__focusHandler.bind(this)),this.addEventListener("blur",this.__blurHandler.bind(this))}__keydownHandler(e){const t=e.which||e.keyCode,i=this.parentListEl.querySelectorAll("mce-list-item"),s=Array.from(i).indexOf(this),n=i[s+1]||i[0],r=i[s-1]||i[i.length-1];switch(t){case 37:case 38:r.focus();break;case 39:case 40:n.focus()}}__keyupHandler(e){let t;switch(e.key){case"Enter":case"Escape":const i="Enter"==e.key?"selected":"escaped";t=new CustomEvent(i,{detail:this.item}),this.parentListEl.dispatchEvent(t),this.parentListEl.focus()}}__clickHandler(e){let t=new CustomEvent("selected",{detail:this.item});this.parentListEl.dispatchEvent(t)}__focusHandler(e){this.parentListEl.setFocused&&this.parentListEl.setFocused("listItem",!0)}__blurHandler(e){this.parentListEl.setFocused&&this.parentListEl.setFocused("listItem",!1)}}),function(){if(!(window.debug||document.querySelector('link[href$="mce.min.css"]')||document.querySelector('link[id="mce-css"]'))){let e=document.createElement("link");e.setAttribute("rel","stylesheet"),e.setAttribute("auto-added-by-mce",""),e.setAttribute("href","https://fonts.googleapis.com/icon?family=Material+Icons"),document.head.appendChild(e);let t=document.createElement("link");t.setAttribute("rel","stylesheet"),mceEssEl.setAttribute("auto-added-by-mce",""),t.setAttribute("href","https://unpkg.com/mce/dist/mce.min.css"),document.head.appendChild(t);let i=document.createElement("link");i.setAttribute("rel","stylesheet"),i.setAttribute("auto-added-by-mce",""),i.setAttribute("href","https://unpkg.com/mce/dist/themes/blue.css"),document.head.appendChild(i)}}()}]);
//# sourceMappingURL=mce.min.js.map