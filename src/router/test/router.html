<!doctype html>
<!-- This page is useful for development and testing. As of. Nov 2017. This page works well with Chrome browser. -->
<html>
  <head>
    <meta name="viewport" content="initial-scale=1, width=device-width">
    <script type="module" src="../main.js"></script>
    <style>a-router {min-height: 40px;}</style>
  </head>
  <body>

    <h1>a-router test</h1>

    <fieldset>
      <legend>Simple</legend> 
      <a-router>
        <a-route path="page1" import="page1.html" no-cache></a-route>
        <a-route path="page2" import="page2.html"></a-route>
        <a-route path="not-found" import="not-found.html"></a-route>
        <a-route path="" redirect="page1"></a-route>
      </a-router>
      <div> <a href="#page1">page1</a> <a href="#page2">page2</a> <a href="#invalid">invalid</a> </div>
    </fieldset>

    <fieldset>
      <legend>Base Path Example</legend> 
      <a-router base-path="/base/path">
        <a-route path="/page1" import="page1.html" no-cache></a-route>
        <a-route path="/page2" import="page2.html"></a-route>
        <a-route path="" redirect="page1"></a-route>
        <a-route default no-cache import="defaultUrl()"></a-route>
      </a-router>
      <div>
        <a href="#/base/path/page1">#/base/path/page1</a>
        <a href="#/base/path/page2">#/base/path/page2</a>
        <a href="#/base/path/invalid">#/base/path/invalid</a>
      </div>
      <script>
        var defaultUrl = _ => 'not-found.html';
      </script>
    </fieldset>

    <fieldset>
      <legend>Callback Example</legend>
      <a-router base-path="/callbacks"
        resolve-func="fn.routerResolve(route)"
        on-route-start="fn.onRouteStart(route)"
        on-route-end="fn.onRouteEnd(route)"
        on-http-start="fn.onHttpStart(route)"
        on-http-end="fn.onHttpEnd(response)">
        <a-route path="/page1" import="page1.html" no-cache resolve-func="fn.routeResolve(route)"></a-route>
        <a-route path="/page2" import="page2.html"></a-route>
        <a-route path="/not-found" import="not-found.html"></a-route>
        <a-route path="" redirect="/page1"></a-route>
      </a-router>
      <div>
        <a href="#/callbacks/page1">#/callbacks/page1</a>
        <a href="#/callbacks/page2">#/callbacks/page2</a>
        <a href="#/callbacks/invalid">#/callbacks/invalid</a>
      </div>
      <script>
        var fn = {
          routerResolve: route => { console.log('router-resolve');},
          routeResolve: route => { console.log('route-resolve');},
          onRouteStart: route => { console.log('on-route-start');},
          onHttpStart: route => { console.log('on-http-start');},
          onHttpEnd: response => { console.log('on-http-end');},
          onRouteEnd: route => { console.log('on-route-end');}
        }
      </script>
    </fieldset>

  </body>
</html>
