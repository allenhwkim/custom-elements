<link rel="icon" href="data:;base64,iVBORw0KGgo=">
<link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Roboto:400,100,100italic,300,300ita‌​lic,400italic,500,500italic,700,700italic,900italic,900">
<link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
<link rel="stylesheet" href="https://unpkg.com/font-awesome@4.7.0/css/font-awesome.css">
<script type="module" src="./src/router.js"></script>
<script type="module" src="./src/route.js"></script>
<style>
body {max-width: 1024px; margin: 0 auto; font-family: Roboto;} 
mce-router {display: block; height: 100px; border: 1px solid #ccc;}
</style>  

<h3>Simple Router Example</h3>
  <mce-router>
    <mce-route path="page1" import="test/page1.html" no-cache=""></mce-route>
    <mce-route path="page2" import="test/page2.html"></mce-route>
    <mce-route path="not-found" import="test/not-found.html"></mce-route>
    <mce-route path="" redirect="page1"></mce-route>
  </mce-router>
  <a href="#page1">page1</a>
  <a href="#page2">page2</a>
  <a href="#invalid">invalid</a>

<h3>Router With Base Path</h3>
<mce-router base-path="/base/path">
  <mce-route path="/page1" import="test/page1.html" no-cache></mce-route>
  <mce-route path="/page2" import="test/page2.html"></mce-route>
  <mce-route path="" redirect="page1"></mce-route>
  <mce-route default no-cache import="defaultUrl()"></mce-route>
</mce-router>
<div>
  <a href="#/base/path/page1">#/base/path/page1</a>
  <a href="#/base/path/page2">#/base/path/page2</a>
  <a href="#/base/path/invalid">#/base/path/invalid</a>
</div>
<script>
  var defaultUrl = _ => 'test/not-found.html';
</script>

<h3>Router With Callbacks</h3>
      <mce-router base-path="/callbacks"
        resolve-func="fn.routerResolve(route)"
        on-route-start="fn.onRouteStart(route)"
        on-route-end="fn.onRouteEnd(route)"
        on-http-start="fn.onHttpStart(route)"
        on-http-end="fn.onHttpEnd(response)">
        <mce-route path="/page1" import="test/page1.html" no-cache resolve-func="fn.routeResolve(route)"></mce-route>
        <mce-route path="/page2" import="test/page2.html"></mce-route>
        <mce-route path="/not-found" import="test/not-found.html"></mce-route>
        <mce-route path="" redirect="/page1"></mce-route>
      </mce-router>
      <div>
        <a href="#/callbacks/page1">#/callbacks/page1</a>
        <a href="#/callbacks/page2">#/callbacks/page2</a>
        <a href="#/callbacks/invalid">#/callbacks/invalid</a>
      </div>
      <script>
        var fn = {
          routerResolve: route => { console.log('router-resolve');},
          routeResolve: route => { console.log('route-resolve');},
          onRouteStart: route => { console.log('on-route-start');},
          onHttpStart: route => { console.log('on-http-start');},
          onHttpEnd: response => { console.log('on-http-end');},
          onRouteEnd: route => { console.log('on-route-end');}
        }
      </script>

<!--
<iframe src="https://embed.plnkr.co/DiFMep?show=preview"></iframe>
<iframe src="https://embed.plnkr.co/FOLOB9?show=preview"></iframe>
<iframe src="https://embed.plnkr.co/iyCwi9?show=preview"></iframe>
-->