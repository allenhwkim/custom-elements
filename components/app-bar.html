<!--
  https://material.io/guidelines/layout/structure.html#structure-app-bar
-->
<template for="AppBar">
  <style id="an-app-bar-style">
    an-app-bar {
      background-color: var(--theme-color-600, #757575);
      box-shadow: var(--theme-shadow-4dp, 0   4px  8px rgba(0,0,0,0.18), 0  4px  8px rgba(0,0,0,0.23));
      color: var(--theme-text-color-0, #ffffff);
      display: block;
      left: 0;
      min-height: var(--theme-height-app-bar, 56px);
      position: absolute;
      top: 0;
      width: 100%;
      z-index: 4;
    }
    an-app-bar[fixed] {
      position: fixed;
    }
    an-app-bar .title {
      display: inline-block;
      line-height: var(--theme-height-app-bar, 56px);
      font-size: var(--theme-title-font-size, 20px);
      font-weight: var(--theme-title-font-weight, 500);
      margin-left: 16px;
    }
    an-app-bar [md-icon] {
      padding: 16px;
    }
    an-app-bar [md-icon]:after {
      content: '';
      display: block;
      position: absolute;
      width: 56px;
      height: 56px;
      margin-left: -18px;
      margin-top: -40px;
      background: #3f51b5;
      border-radius: 100%;
      opacity: .6;
      transform: scale(0);
    }

    an-app-bar [md-icon]:active:after {
      animation: ripple .4s ease-out;
    }

    an-app-bar .icons > * {
      display: inline-block;
    }
  </style>
</template>

<script>
( function() {
  var thisScript = document.currentScript;

  class AppBar extends HTMLElement {
    constructor() {
      super();
      this._init();
    }
    
    _init() {
      let template = thisScript.ownerDocument.querySelector('template[for=AppBar]');
      let style = template.content.querySelector('style').cloneNode(true);
      !document.querySelector(`#ce-core-style, #${style.id}`) && document.head.appendChild(style);
    }
  }
  
  customElements.define('an-app-bar', AppBar);
})();
</script>