<!--
  https://material.io/guidelines/style/icons.html
-->
<template for="Icon">
  <link rel="stylesheet" href="../components/common.css">
  <style id="an-icon-style">
    an-icon {
      color: var(--theme-text-color-500, #9e9e9e);
      font-family: 'Material Icons';
      font-weight: normal;
      font-style: normal;
      font-size: 24px;
      line-height: 1;
      letter-spacing: normal;
      text-transform: none;
      display: inline-block;
      white-space: nowrap;
      word-wrap: normal;
      direction: ltr;
      -webkit-font-feature-settings: 'liga';
      -webkit-font-smoothing: antialiased;
      user-select: none;
      vertical-align: middle;
    }
    an-icon[small] { font-size: 18px; }
    an-icon[big] { font-size: 36px; }
    an-icon[double] { font-size: 48px; }
    an-icon[circle] {border-radius: 50%;}
    an-icon[square] {border-radius: 10%;}

    an-icon[circle], 
    an-icon[square] { 
      background-color: var(--theme-color-500); padding: 12px; 
      color: var(--theme-color-0, #ffffff);
    } 
    an-icon[circle][dark-bg], 
    an-icon[square][dark-bg] { 
      background-color: var(--theme-color-0, #ffffff);
      color: var(--theme-color-600);
    }
    an-icon[circle][small],
    an-icon[square][small]   { padding: 8px;} 
    an-icon[circle][big],
    an-icon[square][big]     { padding: 18px;} 

    an-icon[reactive]:active:after { animation: ripple .4s ease-out; }

    an-icon[disabled] { color: var(--theme-text-color-400, #b9b9b9); }

    an-icon[dark-bg] { color: var(--theme-text-color-100); }
    an-icon[dark-bg][disabled] { color: var(--theme-text-color-600, #727272); }

    an-icon[reactive] { position: relative; }
    an-icon[reactive]:active    { color: var(--theme-text-color-900, #202020); }
    an-icon[reactive]:hover     { color: var(--theme-text-color-600, #727272); }
    an-icon[reactive][dark-bg]:active    { color: var(--theme-text-color-0, #ffffff);   }
    an-icon[reactive][dark-bg]:hover     { color: var(--theme-text-color-300, #c2c2c2); }
    an-icon[reactive]:after {
      content: '';
      display: block;
      position: absolute;
      left: 50%;
      top: 50%;
      width: 60px;
      height: 60px;
      margin-left: -30px;
      margin-top: -30px;
      background: #3f51b5;
      border-radius: 100%;
      opacity: .6;
      visibility: hidden;
      transform: scale(0);
    }
    an-icon[reactive]:active:after { 
      visibility: visible;
      animation: ripple .4s ease-out;
    }
    an-icon[img] {
      color: transparent !important;
      background-size: cover;
      border-radius: 50%;
    }
  </style>
</template>
<script>
( function() {
  var thisScript = document.currentScript;

  class Icon extends HTMLElement {
    constructor() {
      super();
      this._init();
    }

    _init() {
      let template = thisScript.ownerDocument.querySelector('template[for=Icon]');
      let style = template.content.querySelector('style').cloneNode(true);
      !document.querySelector(`#ce-core-style, #${style.id}`) && document.head.appendChild(style);
    }

    connectedCallback() {
      let img = this.getAttribute('img');
      if (img) {
        this.style.backgroundImage = `url(${img})`;
        this.innerHTML = 'favorite';
      }
    }
  }

  customElements.define('an-icon', Icon);
})();
</script>
